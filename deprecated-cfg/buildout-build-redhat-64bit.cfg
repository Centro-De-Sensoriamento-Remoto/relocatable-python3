[buildout]
extends = buildout-build-redhat-32bit.cfg

[options]
configure-options = --prefix=${options:prefix} --disable-rpath --libdir=${options:prefix}/lib64

[options-no-rpath]
configure-options = --prefix=${options:prefix} --libdir=${options:prefix}/lib64

[environment]
CC = gcc -static-libgcc -fPIC
CFLAGS = -I${options:prefix}/include
LDFLAGS = -L${options:prefix}/lib64 -Wl,-rpath,\$$ORIGIN,-rpath,\$$ORIGIN/../lib64,-rpath-link,\$$ORIGIN,-rpath-link,\$$ORIGIN/../lib64
SHARED_LDFLAGS = -L${options:prefix}/lib64 -Wl,-rpath,-rpath,\$$ORIGIN,\$$ORIGIN/../lib64,-rpath-link,\$$ORIGIN,-rpath-link,\$$ORIGIN/../lib64
LIBPATH = -L${options:prefix}/lib64
DYLD_LIBRARY_PATH = ${options:prefix}/lib64
LD_LIBRARY_PATH = ${:DYLD_LIBRARY_PATH}
PKG_CONFIG_PATH = ${options:prefix}/lib64/pkgconfig

[openssl]
configure-options = --prefix=${options:prefix} --openssldir=${:openssldir} --shared --libdir=lib64 -fPIC -Wl,-rpath,\\\$\$\$\$\\\$\$\$\$ORIGIN/../lib64

[cyrus-sasl]
patches = ${:patches-dir}/${:name}-${:version}-lib64.patch

[python-environment]
CFLAGS = ${environment:CFLAGS} -I${options:prefix}/include/graphviz -I${options:prefix}/include/libexslt -I${options:prefix}/include/libxml2 -I${options:prefix}/include/libxslt -I${options:prefix}/include/ncurses -I${options:prefix}/include/openssl -I${options:prefix}/include/readline -I${options:prefix}/include/sasl -I${options:prefix}/lib64/libffi-${libffi:version}/include -I${options:prefix}/include/uuid
CPPFLAGS = ${:CFLAGS}
LDFLAGS = ${environment:LDFLAGS} -Wl,-rpath,\$$ORIGIN/../.. -L${options:prefix}/lib64/engines -L${options:prefix}/lib64/gettext -L${options:prefix}/lib64/graphviz -L${options:prefix}/lib64/libxslt-plugins -L${options:prefix}/lib64/pkgconfig -L${options:prefix}/lib64/python3.7 -L${options:prefix}/lib64/sasl2 -L${options:prefix}/lib64

[python]
patches += ${:patches-dir}/${:name}-${:version}-redhat-lib64.patch

[bzip2]
patches += ${:patches-dir}/${:name}-${:version}-redhat-lib64.patch

[zlib]
configure-options = --prefix=${options:prefix} --static --libdir=${options:prefix}/lib64 --64

[libuuid]
configure-options += --libdir=${options:prefix}/lib64